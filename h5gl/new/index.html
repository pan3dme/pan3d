<html>

<head>
    <title>index</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta content="IE=11.00" http-equiv="X-UA-Compatible" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=0.5, maximum-scale=0.5">

    <link rel="apple-touch-icon-precomposed" href="icon.png" />
    <link rel="touch-icon-precomposed" href="icon.png" />

    <style>
        canvas {
            position: absolute;
            top: 0px;
            left: 0px;
        }
    </style>

<script src="bins/inflate.min.js"></script>

<script src="jsbin/Pan3d/core/Pan3dByteArray.js"></script>
<script src="jsbin/Pan3d/core/Vector3D.js"></script>
<script src="jsbin/Pan3d/core/Object3D.js"></script>
<script src="jsbin/Pan3d/core/Quaternion.js"></script>
<script src="jsbin/Pan3d/core/Matrix3D.js"></script>
<script src="jsbin/Pan3d/core/Rectangle.js"></script>


<script src="jsbin/Pan3d/base/GC.js"></script>
<script src="jsbin/Pan3d/base/ResCount.js"></script>

<script src="jsbin/Pan3d/base/Camera3D.js"></script>
<script src="jsbin/Pan3d/base/ObjData.js"></script>
<script src="jsbin/Pan3d/base/Context3D.js"></script>
<script src="jsbin/Pan3d/base/ResGC.js"></script>
<script src="jsbin/Pan3d/base/TextAlign.js"></script>
<script src="jsbin/Pan3d/base/ObjDataManager.js"></script>


<script src="jsbin/Pan3d/res/LoadInfo.js"></script>
<script src="jsbin/Pan3d/res/LoaderThread.js"></script>
<script src="jsbin/Pan3d/res/LoadManager.js"></script>

<script src="jsbin/Pan3d/program/Shader3D.js"></script>
<script src="jsbin/Pan3d/program/ProgrmaManager.js"></script>
<script src="jsbin/Pan3d/program/MaterialShader.js"></script>

<script src="jsbin/Pan3d/display/Display3D.js"></script>
<script src="jsbin/Pan3d/display/Display3DShader.js"></script>
<script src="jsbin/Pan3d/display/Display3DSprite.js"></script>

<script src="jsbin/Pan3d/res/BaseRes.js"></script>
<script src="jsbin/Pan3d/res/SceneRes.js"></script>

<script src="jsbin/Pan3d/mateial/TextureLoad.js"></script>
<script src="jsbin/Pan3d/mateial/TextureRes.js"></script>
<script src="jsbin/Pan3d/mateial/TextureManager.js"></script>

<script src="jsbin/Pan3d/mateial/ConstItem.js"></script>
<script src="jsbin/Pan3d/mateial/DynamicBaseConstItem.js"></script>
<script src="jsbin/Pan3d/mateial/DynamicBaseTexItem.js"></script>
<script src="jsbin/Pan3d/mateial/DynamicTexItem.js"></script>
<script src="jsbin/Pan3d/mateial/Material.js"></script>
<script src="jsbin/Pan3d/mateial/MaterialBaseParam.js"></script>
<script src="jsbin/Pan3d/mateial/MaterialManager.js"></script>
<script src="jsbin/Pan3d/mateial/MaterialParam.js"></script>
<script src="jsbin/Pan3d/mateial/TexItem.js"></script>

 
<script src="jsbin/Pan3d/display/basedis/DisplayBaseSprite.js"></script>

<script src="jsbin/Pan3d/display/basedis/DisplayRect3dShader.js"></script>
<script src="jsbin/Pan3d/display/basedis/DisplayRect3dSprite.js"></script>

<script src="jsbin/Pan3d/display/line/LineDisplayShader.js"></script>
<script src="jsbin/Pan3d/display/line/LineDisplaySprite.js"></script>
<script src="jsbin/Pan3d/display/line/GridLineSprite.js"></script>

<script src="jsbin/Pan3d/scene/Scene3D.js"></script>

<script src="jsbin/Pan3d/UnitFunction.js"></script>
<script src="jsbin/Pan3d/ConstrainSceneView.js"></script>
 
 

    <script>
 

 
        var constrainSceneView;
        var hasInit = false;
        function init() {
          
          
            constrainSceneView=new Pan3d.ConstrainSceneView(document.getElementById('ArpgStageCanvas'));
            hasInit=true;
       
            resetSize();
            addEvents();
            window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
            if (requestAnimationFrame ) {
                requestAnimationFrame(step);
            }
            setInterval("update()", 1000);//特别加一次系统时间的UPdata
            document.addEventListener('visibilitychange', function() { 
                //alert(document.visibilityState);
            });
        }
        function step(timestamp) {
            update()
            requestAnimationFrame(step);
            //window.setTimeout(nextFun, 1000 / 60)
        }
        function nextFun()
        {
        }
        function addEvents() {
        
        }
        function resetSize() {
            if(hasInit){
                constrainSceneView.resetSize();
            }
        }
        function update() {
         
            constrainSceneView.upFrame();
          
        }
        function unload() {
          
        }
        window.onbeforeunload = function (e) {
        
        }


    </script>
</head>

<body onload='init()' onresize="resetSize()" ontouchmove="event.preventDefault()" style="overflow-x: hidden; overflow-y: hidden;background-color:#000000">
    <canvas id="ArpgStageCanvas" width="800" height="600" style="z-index:1"></canvas>
    <canvas id="FpsTipsCanvas" width="150" height="50" style="z-index:0"></canvas>
    <canvas id="LoadCanvas" width="800" height="100" style="z-index:0"></canvas>


</body>

</html>